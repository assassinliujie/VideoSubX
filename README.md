# VideoSubX

VideoSubX æ˜¯ä¸€ä¸ªä»¥ [VideoLingo](https://github.com/Huanshere/VideoLingo) éƒ¨åˆ†åŠŸèƒ½ä¸ºåŸºç¡€ï¼Œå¹¶å¢åŠ äº†éƒ¨åˆ†æ–°åŠŸèƒ½å’Œä¼˜åŒ–çš„è‡ªåŠ¨åŒ–è§†é¢‘å­—å¹•ç¿»è¯‘å·¥å…·ã€‚

> [!IMPORTANT]
> **æ¨¡å‹é€‰æ‹©ç»“è®ºï¼ˆå¤šè½®å®æµ‹ï¼‰**
> - å½“å‰é¡¹ç›®åœ¨å­—å¹•ä»»åŠ¡ï¼ˆæ–­å¥/ç¿»è¯‘/é‡æ–­å¥ï¼‰ä¸Šçš„ç»¼åˆç¨³å®šæ€§ä¸æ•ˆæœæ’åºä¸ºï¼š`gpt-4.1 > gpt-5.2 > claude-sonnet-4-5`ã€‚
> - è¯·å‹¿ç›²ç›®é€‰æ‹© SOTA æ¨¡å‹ï¼Œå»ºè®®å…ˆä»¥é¡¹ç›®å®é™…é“¾è·¯åšå°æ ·æœ¬ A/B æµ‹è¯•åå†å®šå‹ã€‚

éƒ¨ç½²æ•™ç¨‹ï¼šhttps://www.bilibili.com/video/BV1FnFhzgERG

æœ¬é¡¹ç›®éµå¾ª [Apache 2.0](LICENSE) è®¸å¯è¯ã€‚
#### é‡è¦æç¤ºï¼šinstall.pyæ˜¯åŸºäº50ç³»ä»¥ä¸‹è®¾å¤‡ä½¿ç”¨çš„å®‰è£…è„šæœ¬ï¼Œ50ç³»è¯·è‡ªè¡Œå®‰è£…æœ€æ–°cuda cudnnï¼Œtorchï¼Œç†è®ºä¸Šå·²ç»å»é™¤äº†å¼ºåˆ¶è¦æ±‚è€ç‰ˆæœ¬çš„decumusï¼ŒAMD 9000ç³»ä¹Ÿæ›¾ç»æ­£å¸¸è·‘é€šè¿‡ï¼Œè‡ªè¡Œå°è¯•
50ç³»å·²æœ‰ç”¨æˆ·å®‰è£…æœ€æ–°cudaå’ŒtorchåæˆåŠŸè¿è¡Œ
## âš ï¸ é¦–æ¬¡ä½¿ç”¨å¿…è¯»

> [!IMPORTANT]
> **ç½‘ç»œä»£ç†è¦æ±‚**
> - é¦–æ¬¡ä½¿ç”¨æ—¶ä¼šè‡ªåŠ¨ä¸‹è½½ ASR æ¨¡å‹ï¼ˆWhisperï¼‰å’Œäººå£°åˆ†ç¦»æ¨¡å‹ï¼Œ**è¯·å¼€å¯ç³»ç»Ÿä»£ç†**
> - é¦–æ¬¡åˆ‡æ¢åˆ°æ–°è¯­è¨€çš„è§†é¢‘æ—¶ï¼Œä¼šè‡ªåŠ¨ä¸‹è½½å¯¹åº”çš„ NLP æ¨¡å‹ï¼ˆå¦‚ `ja_core_news_md`ï¼‰ï¼Œ**ä¹Ÿè¯·ç¡®ä¿ç³»ç»Ÿä»£ç†å¼€å¯**
> - å¦‚é‡è§†é¢‘ä¸‹è½½å¡ä½ï¼Œè¯·æ£€æŸ¥ä»£ç†è®¾ç½®æˆ–æ‰‹åŠ¨é…ç½® `config.yaml` ä¸­çš„ `proxy` å­—æ®µ

> [!WARNING]
> **å¯åŠ¨è„šæœ¬é…ç½®**
> - `run_webui.bat` ä¸­å†™æ­»äº† Conda ç¯å¢ƒåç§°ä¸º `videosubx`
> - è¯·ç¡®ä¿ **Conda å·²æ·»åŠ åˆ°ç³»ç»Ÿ PATH**ï¼Œä¸”ç¯å¢ƒåç§°ä¸è„šæœ¬ä¸­ä¸€è‡´
> - å¦‚éœ€ä¿®æ”¹ç¯å¢ƒåç§°ï¼Œè¯·ç¼–è¾‘ `run_webui.bat` æ–‡ä»¶

> [!CAUTION]
> **NumPy ç‰ˆæœ¬é—®é¢˜**
> - å­˜åœ¨æœªçŸ¥ Bug å¯èƒ½å¯¼è‡´ `install.py` ä¸­çš„ NumPy ç‰ˆæœ¬è¦†ç›–å¤±æ•ˆ
> - å¦‚é‡åˆ° NumPy ç›¸å…³æŠ¥é”™ï¼Œè¯·æ‰‹åŠ¨åœ¨å¯¹åº”condaç¯å¢ƒé‡Œç¡®è®¤ NumPy ç‰ˆæœ¬ï¼š`pip show numpy`
> - æ¨èç‰ˆæœ¬ï¼š`numpy=1.26.4`

## é¡¹ç›®æ ¸å¿ƒå˜æ›´ä¸é‡æ„è¯´æ˜

æœ¬é¡¹ç›®ä¸ºäº†è§£å†³åŸé¡¹ç›®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„ç¨³å®šæ€§ä¸ç²¾åº¦é—®é¢˜ï¼Œè¿›è¡Œäº†ä¸€éƒ¨åˆ†é‡å†™ï¼š

1. **æ¶æ„è¿ç§»ï¼šFastAPI + ä»»åŠ¡é˜Ÿåˆ—** å½»åº•å¼ƒç”¨äº†åŸæœ‰çš„ Streamlit æ¶æ„ã€‚Streamlit å¼ºä¾èµ–äºæµè§ˆå™¨è¿›ç¨‹ï¼Œä¸€æ—¦ç½‘é¡µå…³é—­ï¼Œåå°çš„é•¿è€—æ—¶ä»»åŠ¡ï¼ˆå¦‚è½¬å†™ã€ç¿»è¯‘ï¼‰å°±ä¼šä¸­æ–­ã€‚VideoSubX é‡‡ç”¨äº† FastAPI ä½œä¸ºåç«¯æ ¸å¿ƒï¼Œå¼•å…¥äº†ç‹¬ç«‹çš„ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œå¹¶é‡å†™äº†å‰ç«¯é¡µé¢ã€‚ç°åœ¨ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å…³é—­æµè§ˆå™¨ï¼Œåå°ä»»åŠ¡ä¾ç„¶ä¼šç¨³å®šè¿è¡Œã€‚
2. **éŸ³é¢‘å¤„ç†ä¸æ—¶é—´è½´é‡æ„**
   - **äººå£°åˆ†ç¦»**ï¼šå¼ƒç”¨äº† Decumusï¼Œæ›¿æ¢ä¸ºç»´æŠ¤æ›´é¢‘ç¹çš„ `python-audio-separator`ã€‚
   - **æ—¶é—´è½´å¯¹é½**ï¼šå¼ƒç”¨äº† WhisperXã€‚è™½ç„¶ WhisperX é€Ÿåº¦å¿«ï¼Œä½†åœ¨æŸäº›åœºæ™¯ä¸‹æ—¶é—´è½´æ¼‚ç§»ä¸¥é‡ã€‚æˆ‘ä»¬æ›¿æ¢ä¸º `stable-ts`ï¼Œå¹¶å¼•å…¥äº† VAD ç›¸å…³å‚æ•°ï¼Œæ¢å–äº†æ›´é«˜çš„æ—¶é—´è½´ç²¾ç¡®åº¦ã€‚
3. **åˆ‡å‰²ä¸ç¿»è¯‘é€»è¾‘ä¼˜åŒ–**
   - **ç¡¬æ€§åˆ†å‰²**ï¼šå¼ƒç”¨äº†åŸºäºè¿æ¥è¯ç­‰çš„è½¯åˆ†å‰²é€»è¾‘ï¼Œæ–°å¢åŸºäºåœé¡¿æ—¶é•¿çš„ç¡¬æ€§åˆ†å‰²ã€‚
   - **æç¤ºè¯ä¼˜åŒ–**ï¼šå†…ç½®äº†ç»è¿‡æµ‹è¯•ä¼˜åŒ–çš„ Promptï¼Œå¹¶ç§»é™¤äº†åŸé¡¹ç›®ä¸­çš„ TTS æ¨¡å—å’Œè¿œç¨‹ Whisper API ä¾èµ–ï¼Œä¸“æ³¨äºæœ¬åœ°åŒ–çš„å­—å¹•ç”Ÿæˆè´¨é‡ã€‚
   - **æ–­å¥ Prompt é‡å†™ï¼ˆæ–°å¢ï¼‰**ï¼šé‡å†™äº† LLM æ–­å¥æç¤ºè¯çš„ä¼˜å…ˆçº§ï¼ˆè¯­ä¹‰å®Œæ•´æ€§/ç¦æ‚¬æŒ‚å°¾è¯ä¼˜å…ˆï¼Œé•¿åº¦å‡è¡¡é™çº§ï¼‰ï¼Œå‡å°‘æ¨¡å‹æ“…è‡ªæ”¹å†™åŸå¥çš„é£é™©ã€‚
   - **è‹±æ–‡ ASR è¯çº§æ ¡æ­£ï¼ˆæ–°å¢ï¼‰**ï¼šåœ¨ `cleaned_chunks.xlsx` ç”Ÿæˆåæ–°å¢ç‹¬ç«‹æ ¡æ­£æ­¥éª¤ï¼Œä¿®æ­£äº§å“åç§°/äººç‰©åç§°ç­‰é”™è¯¯ï¼ŒæŒ‰ `start_key` è¿”å›å¹¶åº”ç”¨æ›¿æ¢å»ºè®®ï¼Œé¿å…åœ¨æ–­å¥é˜¶æ®µæ··å…¥çº é”™ä»»åŠ¡ã€‚

## ğŸ§ª å®éªŒæ€§åŠŸèƒ½ï¼šMFA å¼ºåˆ¶å¯¹é½

> [!WARNING]
> **å®éªŒæ€§åŠŸèƒ½** - æ­¤åŠŸèƒ½éœ€è¦æ‰‹åŠ¨å®‰è£…ï¼Œå¯èƒ½ä¼šå½±å“ç°æœ‰ç¯å¢ƒä¾èµ–ã€‚

### åŠŸèƒ½ä»‹ç»

MFA https://github.com/MontrealCorpusTools/Montreal-Forced-Aligner æ˜¯ä¸€ä¸ªå£°å­¦å¼ºåˆ¶å¯¹é½å·¥å…·ã€‚å¯ç”¨åå¯ä»¥**ä¿®å¤éƒ¨åˆ†è¯è¯­èµ·å§‹æ—¶é—´æˆ³æ™šäºè¯´è¯äººä¸€ä¸ªéŸ³èŠ‚æ‰å¼€å§‹çš„é—®é¢˜**ï¼Œè®©å­—å¹•æ—¶é—´è½´æ›´åŠ ç²¾å‡†ã€‚

å¯ç”¨å‰ï¼š<img width="356" height="191" alt="å›¾ç‰‡" src="https://github.com/user-attachments/assets/ec93ee5f-455b-4ccf-b099-66305bb80a08" />

å¯ç”¨åï¼š<img width="387" height="194" alt="å›¾ç‰‡" src="https://github.com/user-attachments/assets/83ee5946-0416-45cb-acdd-2a5c706f8a06" />
å•è¯èµ·å§‹æ—¶é—´æ˜æ˜¾ä¿®å¤
### å®‰è£…æ–¹æ³•

```bash
# åœ¨å·²æ¿€æ´»çš„ conda ç¯å¢ƒä¸­è¿è¡Œ
conda activate videosubx
python install_mfa.py
```

### å¯ç”¨æ–¹å¼

ç¼–è¾‘ `config.yaml`ï¼š

```yaml
mfa:
  enabled: true
  acoustic_model: 'english_mfa'  # æˆ– mandarin_mfa, japanese_mfa ç­‰
  dictionary: 'english_mfa'
```

### âš ï¸ å¸¸è§é—®é¢˜

å®‰è£… MFA å¯èƒ½ä¼šå¯¼è‡´ä»¥ä¸‹ä¾èµ–å†²çªï¼Œ`install_mfa.py` å·²å†…ç½®ä¿®å¤é€»è¾‘ï¼Œå¦‚é‡æŠ¥é”™è¯·ä¼˜å…ˆæ£€æŸ¥ï¼š

| é—®é¢˜ | ç—‡çŠ¶ | ä¿®å¤æ–¹å¼ |
|------|------|----------|
| **NumPy ç‰ˆæœ¬å†²çª** | `ModuleNotFoundError: No module named '_kalpy'` | è„šæœ¬ä¼šè‡ªåŠ¨æ›¿æ¢ pip ç‰ˆæœ¬ä¸º conda ç‰ˆæœ¬ |
| **FFmpeg DLL å†²çª** | `æ— æ³•å®šä½ç¨‹åºè¾“å…¥ç‚¹ DllMain` | è„šæœ¬ä¼šè‡ªåŠ¨åˆ é™¤å†²çªçš„ DLL æ–‡ä»¶ |

å¦‚è‡ªåŠ¨ä¿®å¤å¤±è´¥ï¼Œå¯æ‰‹åŠ¨æ‰§è¡Œï¼š

```bash
# ä¿®å¤ NumPy
pip uninstall numpy -y
conda install -c conda-forge numpy=1.26.4 -y

# ä¿®å¤ FFmpegï¼ˆåˆ é™¤ conda ç¯å¢ƒä¸­çš„å†²çªæ–‡ä»¶ï¼‰
Remove-Item "$env:CONDA_PREFIX\Library\bin\avcodec*.dll" -Force
Remove-Item "$env:CONDA_PREFIX\Library\bin\ffmpeg.exe" -Force
```

## **ç•Œé¢å±•ç¤º**

<img width="1402" height="939" alt="å›¾ç‰‡" src="https://github.com/user-attachments/assets/f0546d3f-45dd-47ed-adbf-b83f960e430b" />


## ç¯å¢ƒè¦æ±‚ (å¿…è¯»)

> âš ï¸ **å…¼å®¹æ€§è­¦å‘Š**ï¼š ç›®å‰æœ¬é¡¹ç›® **ä»…æµ‹è¯• Windows ç³»ç»Ÿ** ä¸”æ­è½½ **NVIDIA æ˜¾å¡**ã€‚ Linuxã€macOS æˆ– AMD æ˜¾å¡ç¯å¢ƒå°šæœªæµ‹è¯•ï¼Œå¯èƒ½ä¼šæœ‰æ„æƒ³ä¸åˆ°çš„é”™è¯¯ï¼Œè¯·è‡ªè¡Œå°è¯•ã€‚AMD æ˜¾å¡ç”¨æˆ·è¯·è‡ªè¡Œå®‰è£… ROCm ç‰ˆæœ¬torchæµ‹è¯•ï¼Œæ›¾åœ¨9060XTä¸­è¿è¡ŒæˆåŠŸè¿‡è€ç‰ˆæœ¬

### æ ¸å¿ƒä¾èµ–

- **Python**: 3.10 (å¼ºçƒˆå»ºè®®ä½¿ç”¨ Conda ç¯å¢ƒ)
- **CUDA**: **ä½¿ç”¨ CUDA 11.8**ï¼Œå¹¶å®‰è£…å¯¹åº”çš„ cuDNNã€‚
  - *æ³¨ï¼šè™½ç„¶ç†è®ºä¸Šæ”¯æŒæ›´é«˜ç‰ˆæœ¬ï¼Œä½†åœ¨ä¾èµ–åº“å…¼å®¹æ€§ä¸Š 11.8 æœ€ä¸ºç¨³å®šã€‚*
- **FFmpeg**: å¿…éœ€çš„è§†é¢‘å¤„ç†åç«¯ï¼Œéœ€æ·»åŠ è‡³ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚

## å®‰è£…æŒ‡å—

### 1. ç¯å¢ƒå‡†å¤‡

```bash
conda create -n videosubx python=3.10 -y
conda activate videosubx
```

### 2. è·å–ä»£ç 

```bash
git clone https://github.com/assassinliujie/VideoSubX.git
cd VideoSubX
```

### 3. ä¸€é”®å®‰è£…

æˆ‘ä»¬é‡å†™äº† `install.py` ä»¥é€‚åº”æ–°çš„ä¾èµ–å…³ç³»ã€‚

> **æç¤º**ï¼šå®‰è£…è¿‡ç¨‹ä¸­æ¶‰åŠä» HuggingFace å’Œ Github ä¸‹è½½æ¨¡å‹ï¼Œè¯·åŠ¡å¿…å¼€å¯ç³»ç»Ÿä»£ç†æ¨¡å¼ï¼Œå¦åˆ™æå¤§æ¦‚ç‡å¤±è´¥ã€‚

```bash
python install.py
```

## é…ç½®è¯´æ˜

åœ¨å¯åŠ¨å‰ï¼Œè¯·å¤åˆ¶ `config.example.yaml` ä¸º `config.yaml`ï¼Œå¹¶ç¼–è¾‘å…¶ä¸­çš„é…ç½®é¡¹ã€‚é™¤äº†å¸¸è§„çš„ API Keyï¼Œä»¥ä¸‹å‡ é¡¹è®¾ç½®è‡³å…³é‡è¦ï¼š

### 1. ç½‘ç»œä»£ç† (Proxy)

ç”±äº `yt-dlp`ï¼ˆä¸‹è½½è§†é¢‘ï¼‰å’Œéƒ¨åˆ†æ¨¡å‹åŠ è½½éœ€è¦è®¿é—®ç‰¹å®šç½‘ç»œï¼Œå¦‚æœæ‚¨çš„ç½‘ç»œç¯å¢ƒå—é™ï¼Œ**å¿…é¡»**é…ç½®ä»£ç†åœ°å€ã€‚
æ³¨æ„ï¼Œæ­¤å¤„çš„ä»£ç†ç«¯å£å·7890å¹¶ä¸æ˜¯å›ºå®šçš„ï¼Œå–å†³äºæ‚¨çš„ä»£ç†è½¯ä»¶çš„è®¾ç½®ï¼Œå…·ä½“è¯·è¯¢é—®AIï¼Œå¦‚æœä½ é€‰æ‹©å¼€å¯ç³»ç»Ÿä»£ç†æ¨¡å¼ï¼Œé‚£ä¹ˆè¯¥é¡¹å¯ä»¥ä¸é…ç½®

```yaml
# ç¤ºä¾‹ï¼šhttp://127.0.0.1:7890
proxy: 'http://127.0.0.1:7890'
```

### 2. å­—ä½“è®¾ç½® (Fonts)

é¡¹ç›®æ¶‰åŠè§†é¢‘ç¡¬å­—å¹•çƒ§å½•ï¼Œé…ç½®æ–‡ä»¶ä¸­çš„å­—ä½“åç§°å¿…é¡»ä¸æ‚¨ç³»ç»Ÿä¸­å®é™…å®‰è£…çš„å­—ä½“åç§°å®Œå…¨ä¸€è‡´ï¼Œå¦åˆ™ä¼šå¯¼è‡´å­—å¹•ä¹±ç æˆ–æ–¹æ¡†ã€‚

```yaml
style:
  chinese_font: 'SimHei'
  english_font: 'Arial'
```

### Base URL å¡«å†™è§„åˆ™ï¼ˆé‡è¦ï¼‰

`api.base_url` å¿…é¡»å¡«å†™æœåŠ¡å•†æ ¹åœ°å€ï¼Œä¸è¦å¸¦ `/v1`ï¼Œä¹Ÿä¸è¦åœ¨æœ«å°¾åŠ  `/`ã€‚  
ä¾‹å¦‚ OpenAI æ­£ç¡®å†™æ³•ï¼š

```yaml
api:
  base_url: 'https://api.openai.com'
```

### 3. LLM è¯·æ±‚è¶…æ—¶ä¸é‡è¯•ï¼ˆæ–°å¢ï¼‰

å½“ä¸Šæ¸¸æ¥å£å¶å‘æ…¢è¯·æ±‚æ—¶ï¼Œå»ºè®®ä½¿ç”¨è¾ƒçŸ­è¶…æ—¶ + å¤šæ¬¡é‡è¯•ï¼Œä»¥å‡å°‘â€œé•¿æ—¶é—´æ— æ—¥å¿—åé¦ˆâ€çš„å¡é¡¿æ„Ÿã€‚

```yaml
api:
  request_timeout_sec: 30      # å•æ¬¡è¯·æ±‚è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
  request_retries: 8           # å¤±è´¥åé‡è¯•æ¬¡æ•°ï¼ˆä¸å«é¦–æ¬¡ï¼‰
  request_retry_delay_sec: 1   # æ¯æ¬¡é‡è¯•é—´éš”ï¼ˆç§’ï¼‰
```

### 4. æ¶¦è‰²ç¿»è¯‘å¼€å…³ï¼ˆæ³¨é‡Šæ›´æ–°ï¼‰

```yaml
# æ˜¯å¦å¯ç”¨äºŒæ®µå¼ç¿»è¯‘ï¼ˆç›´è¯‘ + æ¶¦è‰²ï¼‰
# true: å…ˆç›´è¯‘å†æ¶¦è‰²ï¼ˆä¸¤æ¬¡è°ƒç”¨ï¼Œè´¨é‡æ›´é«˜ï¼Œé€Ÿåº¦æ›´æ…¢ï¼‰
# false: å•æ¬¡èåˆç¿»è¯‘ï¼ˆä¸€æ¬¡è°ƒç”¨ï¼Œæ›´å¿«ï¼‰
reflect_translate: true
```

### 5. è‹±æ–‡ ASR è¯çº§æ ¡æ­£ï¼ˆæ–°å¢ï¼Œé»˜è®¤å…³é—­ï¼‰

è¯¥æ­¥éª¤ä¼šåœ¨ `cleaned_chunks.xlsx` ç”Ÿæˆåæ‰§è¡Œï¼Œå‘ LLM å‘é€è¯çº§è‹±æ–‡è¯†åˆ«ç»“æœï¼Œè¿”å›åŸºäº `start_key` çš„æ›¿æ¢å»ºè®®å¹¶åº”ç”¨åˆ°åŸæ–‡ä»¶ã€‚  
æ ¡æ­£è§„åˆ™æ˜¯â€œä»…å…è®¸æ”¹å•è¯ï¼Œä¸å…è®¸å¢åˆ è¯ã€ä¸å…è®¸è¯­æ³•æ”¹å†™â€ã€‚
æ¯æ¬¡æ‰§è¡Œä¼šè¿½åŠ å†™å…¥ `output/log/english_correction_changelog.csv`ï¼Œå¯ç›´æ¥æŸ¥çœ‹æ¯æ¡å»ºè®®æ˜¯å¦è¢«åº”ç”¨åŠè·³è¿‡åŸå› ã€‚

```yaml
english_correction:
  enabled: false
  only_when_detected_language: true
  api:
    # ç•™ç©ºåˆ™å›é€€åˆ°å…¨å±€ api.*
    key: ''
    base_url: ''
    model: ''
    llm_support_json: true
    request_timeout_sec: 30
    request_retries: 5
    request_retry_delay_sec: 1
```

> [!IMPORTANT]
> æ¨èå…ˆåœ¨å°æ ·æœ¬ä¸Šå¼€å¯éªŒè¯ã€‚è¯¥æ­¥éª¤ä¼šå½±å“åç»­åˆ†å¥ä¸æ—¶é—´è½´å¯¹é½è¾“å…¥æ–‡æœ¬ã€‚

### 6. rough_split ä¸“æœ‰åè¯æ–­è£‚å›å¹¶ï¼ˆæ–°å¢ï¼Œå¯é€‰ï¼‰

è¯¥æ­¥éª¤åœ¨ `rough_split` ä¹‹åæ‰§è¡Œï¼Œå‘ LLM å‘é€ç›¸é‚»è¡Œè¾¹ç•Œä¿¡æ¯ï¼Œè¯†åˆ«â€œè·¨è¡Œè¢«æ–­å¼€çš„å¤šè¯ä¸“æœ‰åè¯â€ï¼ˆå¦‚äº§å“å‹å·ã€å…¬å¸åã€äººåã€åœ°åç­‰ï¼‰ã€‚  
LLM åªè´Ÿè´£è¯†åˆ«è¾¹ç•Œæ–­è£‚ï¼ŒçœŸæ­£æ‹¼æ¥ç”±è„šæœ¬æ‰§è¡Œï¼Œå¹¶æ ¹æ®è¡Œé•¿è‡ªåŠ¨åˆ¤æ–­ï¼š
- æŠŠä¸‹ä¸€å¥å¥é¦–å¹¶å›ä¸Šä¸€å¥å¥æœ«
- æˆ–æŠŠä¸Šä¸€å¥å¥æœ«å¹¶åˆ°ä¸‹ä¸€å¥å¥é¦–

æ¯æ¬¡æ‰§è¡Œä¼šè¿½åŠ å†™å…¥ `output/log/rough_split_entity_repair_changelog.csv`ï¼Œå¹¶åœ¨é¦–æ¬¡è¿è¡Œæ—¶å¤‡ä»½ `output/log/rough_split_before_entity_repair.txt`ã€‚

```yaml
rough_split_entity_repair:
  enabled: false
  only_when_space_joiner: true
  max_pairs_per_request: 120
  boundary_window_words: 8
  max_fragment_words: 4
  api:
    # ç•™ç©ºåˆ™å›é€€åˆ°å…¨å±€ api.*
    key: ''
    base_url: ''
    model: ''
    llm_support_json: true
    request_timeout_sec: 30
    request_retries: 5
    request_retry_delay_sec: 1
```

## å¯åŠ¨æœåŠ¡

å®‰è£…å®Œæˆå¹¶ä¿®æ”¹é…ç½®åï¼Œé€šè¿‡ä»¥ä¸‹å‘½ä»¤å¯åŠ¨åç«¯æœåŠ¡ï¼š

```bash
python -m uvicorn main:app --host 0.0.0.0 --port 8501
```

æœåŠ¡å¯åŠ¨åï¼Œè¯·åœ¨æµè§ˆå™¨è®¿é—® `http://localhost:8501` è¿›å…¥æ–°çš„ç®¡ç†ç•Œé¢ã€‚
## è‡´è°¢

æ„Ÿè°¢åŸé¡¹ç›®https://github.com/Huanshere/VideoLingo æä¾›çš„é­”æ”¹åŸºç¡€ï¼Œéå¸¸å¥½çš„é¡¹ç›®
